
{% extends "base.html" %}

{% block title %}User Profile - Advanced OwO Bot Dashboard{% endblock %}

{% block content %}
<div class="card glass" style="margin-bottom: 30px;">
    <h2 style="color: #ffffff; margin-bottom: 20px; display: flex; align-items: center; gap: 15px;">
        <i class="fas fa-user" style="color: #45b7d1;"></i>
        User Profile
    </h2>
</div>

{% if user %}
<div class="grid grid-2">
    <!-- User Info -->
    <div class="card glass">
        <div class="user-profile" style="text-align: center;">
            <img src="{{ user.avatar_url }}" alt="Avatar" 
                 style="width: 120px; height: 120px; border-radius: 50%; border: 4px solid rgba(255,255,255,0.3); margin-bottom: 20px;">
            <h2 style="color: #ffffff; margin-bottom: 10px;">{{ user.name }}{% if user.discriminator != '0' %}#{{ user.discriminator }}{% endif %}</h2>
            <p style="opacity: 0.7; margin-bottom: 20px;">Joined Discord: {{ join_date }}</p>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px;">
                <div style="text-align: center; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 10px;">
                    <div style="font-size: 1.5rem; font-weight: 600; color: #ff4757;">{{ user_data.level or 1 }}</div>
                    <div style="opacity: 0.7; font-size: 0.9rem;">Level</div>
                </div>
                <div style="text-align: center; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 10px;">
                    <div style="font-size: 1.5rem; font-weight: 600; color: #45b7d1;">{{ "{:,}".format(user_data.balance or 0) }}</div>
                    <div style="opacity: 0.7; font-size: 0.9rem;">Balance</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Warnings & Moderation -->
    <div class="card glass">
        <h3 style="margin-bottom: 20px; color: #ffffff; display: flex; align-items: center; gap: 10px;">
            <i class="fas fa-exclamation-triangle" style="color: #ff6b6b;"></i>
            Warnings & Moderation
        </h3>
        
        {% if warnings %}
        <ul style="list-style: none; padding: 0;">
            {% for warning in warnings %}
            <li style="padding: 10px; background: rgba(255, 107, 107, 0.1); border-left: 4px solid #ff6b6b; margin-bottom: 10px; border-radius: 5px;">
                {{ warning }}
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p style="opacity: 0.7; text-align: center; padding: 30px;">No warnings on record</p>
        {% endif %}
        
        <div style="margin-top: 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
            <button class="nav-item glass" style="border: none; cursor: pointer; background: rgba(255, 107, 107, 0.2);">
                <i class="fas fa-ban"></i> Add Warning
            </button>
            <button class="nav-item glass" style="border: none; cursor: pointer; background: rgba(107, 255, 107, 0.2);">
                <i class="fas fa-check"></i> Clear Warnings
            </button>
        </div>
    </div>
</div>

<!-- User Statistics -->
<div class="card glass" style="margin-top: 30px;">
    <h3 style="margin-bottom: 20px; color: #ffffff; display: flex; align-items: center; gap: 10px;">
        <i class="fas fa-chart-bar" style="color: #9b59b6;"></i>
        User Statistics
    </h3>
    
    <div class="grid grid-4">
        <div style="text-align: center; padding: 20px; background: rgba(255,255,255,0.05); border-radius: 15px;">
            <div style="font-size: 2rem; font-weight: 600; color: #ff4757; margin-bottom: 10px;">
                {{ user_data.commands_used or 0 }}
            </div>
            <div style="opacity: 0.7;">Commands Used</div>
        </div>
        
        <div style="text-align: center; padding: 20px; background: rgba(255,255,255,0.05); border-radius: 15px;">
            <div style="font-size: 2rem; font-weight: 600; color: #45b7d1; margin-bottom: 10px;">
                {{ user_data.daily_streak or 0 }}
            </div>
            <div style="opacity: 0.7;">Daily Streak</div>
        </div>
        
        <div style="text-align: center; padding: 20px; background: rgba(255,255,255,0.05); border-radius: 15px;">
            <div style="font-size: 2rem; font-weight: 600; color: #96ceb4; margin-bottom: 10px;">
                {{ user_data.rank or 'Newbie' }}
            </div>
            <div style="opacity: 0.7;">Rank</div>
        </div>
        
        <div style="text-align: center; padding: 20px; background: rgba(255,255,255,0.05); border-radius: 15px;">
            <div style="font-size: 2rem; font-weight: 600; color: #9b59b6; margin-bottom: 10px;">
                {% if user_data.last_seen %}{{ user_data.last_seen.strftime('%m/%d') }}{% else %}N/A{% endif %}
            </div>
            <div style="opacity: 0.7;">Last Seen</div>
        </div>
    </div>
</div>

{% else %}
<div class="card glass">
    <div style="text-align: center; padding: 50px;">
        <i class="fas fa-user-times" style="font-size: 4rem; opacity: 0.3; margin-bottom: 20px;"></i>
        <h3 style="margin-bottom: 10px; opacity: 0.7;">User Not Found</h3>
        <p style="opacity: 0.5;">The requested user could not be found.</p>
    </div>
</div>
{% endif %}
{% endblock %}
